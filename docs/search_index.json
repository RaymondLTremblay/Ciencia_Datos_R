[["flujo-de-trabajo.html", "Chapter 2 Flujo de trabajo 2.1 Temas: 2.2 Creación de un proyecto: 2.3 Información sobre el archivo 2.4 Extracción de valores de un conjunto de datos 2.5 Ejemplos de Gráficos 2.6 Leer datos de un archivo", " Chapter 2 Flujo de trabajo El tema proviene de los siguientes sitios. English: https://r4ds.had.co.nz/workflow-projects.html Español: https://es.r4ds.hadley.nz/04-workflow-basics.html 2.1 Temas: Reduciendo Errores getwd() setwd() Su Proyecto Selecionar el tab Session →→ Set Working Directory →→ To Project Directory *** 2.2 Creación de un proyecto: crear un proyecto para cada curso. crear un proyecto para cada investigación. No se te olvida de añadir tu archivos de datos en el proyecto. Describe claramente todos tus análisis y donde conseguiste la información. Describe tu interpretación de los análisis o gráficos. Correr los “scripts” uno a la vez para asegurar que funcione. knit el archivo .rmd para asegurar que no falte nada. no mezclar proyectos de investigación en un mismo proyecto. Code #install.packages(&quot;tidyverse&quot;) library(tidyverse) ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── ## ✔ dplyr 1.1.2 ✔ readr 2.1.4 ## ✔ forcats 1.0.0 ✔ stringr 1.5.0 ## ✔ ggplot2 3.4.3 ✔ tibble 3.2.1 ## ✔ lubridate 1.9.2 ✔ tidyr 1.3.0 ## ✔ purrr 1.0.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## ✖ dplyr::filter() masks stats::filter() ## ✖ dplyr::lag() masks stats::lag() ## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors Code # install.packages(&quot;datos&quot;) library(datos) 2.2.1 Un set de sobre carros en el archivo (paquete) datos Code millas ## # A tibble: 234 × 11 ## fabricante modelo cilindrada anio cilindros transmision traccion ciudad ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; ## 1 audi a4 1.8 1999 4 auto(l5) d 18 ## 2 audi a4 1.8 1999 4 manual(m5) d 21 ## 3 audi a4 2 2008 4 manual(m6) d 20 ## 4 audi a4 2 2008 4 auto(av) d 21 ## 5 audi a4 2.8 1999 6 auto(l5) d 16 ## 6 audi a4 2.8 1999 6 manual(m5) d 18 ## 7 audi a4 3.1 2008 6 auto(av) d 18 ## 8 audi a4 quattro 1.8 1999 4 manual(m5) 4 18 ## 9 audi a4 quattro 1.8 1999 4 auto(l5) 4 16 ## 10 audi a4 quattro 2 2008 4 manual(m6) 4 20 ## # ℹ 224 more rows ## # ℹ 3 more variables: autopista &lt;int&gt;, combustible &lt;chr&gt;, clase &lt;chr&gt; 2.2.2 Mi primer gráfico Code ggplot(data = millas) + geom_point(mapping = aes(x = cilindrada, y = autopista)) 2.2.3 Las funciones head y tail Code ggplot(data=millas) Code head(millas) # las primeras 6 filas ## # A tibble: 6 × 11 ## fabricante modelo cilindrada anio cilindros transmision traccion ciudad ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; ## 1 audi a4 1.8 1999 4 auto(l5) d 18 ## 2 audi a4 1.8 1999 4 manual(m5) d 21 ## 3 audi a4 2 2008 4 manual(m6) d 20 ## 4 audi a4 2 2008 4 auto(av) d 21 ## 5 audi a4 2.8 1999 6 auto(l5) d 16 ## 6 audi a4 2.8 1999 6 manual(m5) d 18 ## # ℹ 3 more variables: autopista &lt;int&gt;, combustible &lt;chr&gt;, clase &lt;chr&gt; Code tail(millas, n=10) # las ultimas 10 filas ## # A tibble: 10 × 11 ## fabricante modelo cilindrada anio cilindros transmision traccion ciudad ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; ## 1 volkswagen new beetle 2 1999 4 auto(l4) d 19 ## 2 volkswagen new beetle 2.5 2008 5 manual(m5) d 20 ## 3 volkswagen new beetle 2.5 2008 5 auto(s6) d 20 ## 4 volkswagen passat 1.8 1999 4 manual(m5) d 21 ## 5 volkswagen passat 1.8 1999 4 auto(l5) d 18 ## 6 volkswagen passat 2 2008 4 auto(s6) d 19 ## 7 volkswagen passat 2 2008 4 manual(m6) d 21 ## 8 volkswagen passat 2.8 1999 6 auto(l5) d 16 ## 9 volkswagen passat 2.8 1999 6 manual(m5) d 18 ## 10 volkswagen passat 3.6 2008 6 auto(s6) d 17 ## # ℹ 3 more variables: autopista &lt;int&gt;, combustible &lt;chr&gt;, clase &lt;chr&gt; 2.3 Información sobre el archivo Usa el signo de interogación ? antes del nombre de la función o archivo Code ?millas ?head 2.3.1 Las dimensiones del archivo Code dim(millas) ## [1] 234 11 2.3.2 Construcción de mi primer gráfico el nombre del archivo es primero nombre de las variables (nombre de las columnas) si quiere tener un color para cada grupo Code ggplot(data = millas) + geom_point(mapping = aes(x = cilindrada, y = autopista, colour=fabricante)) 2.3.3 La función shape para cambiar la forma de los puntos La función shape es para cambiar el estilo de los puntos Code ggplot(data = millas) + geom_point(mapping = aes(x = cilindrada, y = autopista), shape=11, color = &quot;#c093cc&quot;, fill=&quot;yellow&quot;) 2.3.4 Salvar un grafico en otro formato Como salvar la figura en formato recuperable para subir en otros documentos o compartir Code ggplot(data = millas) + geom_point(mapping = aes(x = cilindrada, y = autopista), color = &quot;blue&quot;) Code ggsave(&quot;cilindro_milla.jpg&quot;) #. png, .tiff ## Saving 7 x 5 in image Code millas ## # A tibble: 234 × 11 ## fabricante modelo cilindrada anio cilindros transmision traccion ciudad ## &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; ## 1 audi a4 1.8 1999 4 auto(l5) d 18 ## 2 audi a4 1.8 1999 4 manual(m5) d 21 ## 3 audi a4 2 2008 4 manual(m6) d 20 ## 4 audi a4 2 2008 4 auto(av) d 21 ## 5 audi a4 2.8 1999 6 auto(l5) d 16 ## 6 audi a4 2.8 1999 6 manual(m5) d 18 ## 7 audi a4 3.1 2008 6 auto(av) d 18 ## 8 audi a4 quattro 1.8 1999 4 manual(m5) 4 18 ## 9 audi a4 quattro 1.8 1999 4 auto(l5) 4 16 ## 10 audi a4 quattro 2 2008 4 manual(m6) 4 20 ## # ℹ 224 more rows ## # ℹ 3 more variables: autopista &lt;int&gt;, combustible &lt;chr&gt;, clase &lt;chr&gt; Ejercicio para someter: baja el paquete “ggversa” activar el paquete “ggversa” mirar las variables del archivo en este paquete que se llama “Anolis” haga un gráfico que incluye lo siguiente en el eje de x = el SVL. que es el tamaño del lagarto del hocico a la cloaca y en la variable de “TAIL” en el eje de y. selecciona la variable “SEX_AGE” para color selecciona la función correcta para que cada “SEX_AGE” tenga su proprio gráfico salva el gráfico en .png o .jpg subir el gráfico aquí Code library(ggversa) head(Anolis) ## # A tibble: 6 × 15 ## STUDY Survey_Site LOCATION TIME DATE SEASON SPECIES SEX_AGE HEIGHT ## &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;tim&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; ## 1 Mark/recap North Tower El Verde 10:46 3/13… dry Anolis… Female 0 ## 2 Mark/recap Woods walkway t… El Verde 10:15 2/20… dry Anolis… Juvenil 0 ## 3 Mark/recap Woods walkway t… El Verde 11:15 2/21… dry Anolis… Male 0 ## 4 Mark/recap North Tower El Verde 11:06 3/16… dry Anolis… Juvenil 0.3 ## 5 Mark/recap North Tower El Verde 12:31 3/11… dry Anolis… Male 0.3 ## 6 Mark/recap North Tower El Verde 01:00 3/9/… dry Anolis… Female 0.4 ## # ℹ 6 more variables: DISTANCE_FROM_CENTERLINE &lt;dbl&gt;, PERCH_SUBSTRATE &lt;chr&gt;, ## # PERCH_DIAMETER &lt;int&gt;, WEIGHT &lt;dbl&gt;, SVL &lt;dbl&gt;, TAIL &lt;dbl&gt; 2.3.5 Facet_wrap ## Warning: Removed 418 rows containing missing values (`geom_point()`). 2.3.6 Regresión lineal ## `geom_smooth()` using formula = &#39;y ~ x&#39; 2.3.7 Regresión Loess Vea este enlace para información sobre la regresión LOESS &lt;https://en.wikipedia.org/wiki/Local_regression&gt; ## [1] &quot;fabricante&quot; &quot;modelo&quot; &quot;cilindrada&quot; &quot;anio&quot; &quot;cilindros&quot; ## [6] &quot;transmision&quot; &quot;traccion&quot; &quot;ciudad&quot; &quot;autopista&quot; &quot;combustible&quot; ## [11] &quot;clase&quot; ## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39; 2.3.8 Regresión LOESS de un grupo ## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39; 2.3.9 Regresión LOESS: dos alternativas ## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39; ## `geom_smooth()` using method = &#39;loess&#39; and formula = &#39;y ~ x&#39; 2.3.10 Regresión Lineal \\[y=b+mx\\] ## `geom_smooth()` using formula = &#39;y ~ x&#39; 2.4 Extracción de valores de un conjunto de datos Aqui usamos el conjunto de datos de diamantes que se encuentra en el paquete ggplot2 2.4.0.1 Los primeros datos de un archivo Code head(diamantes) ## # A tibble: 6 × 10 ## precio quilate corte color claridad profundidad tabla x y z ## &lt;int&gt; &lt;dbl&gt; &lt;ord&gt; &lt;ord&gt; &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 326 0.23 Ideal E SI2 61.5 55 3.95 3.98 2.43 ## 2 326 0.21 Premium E SI1 59.8 61 3.89 3.84 2.31 ## 3 327 0.23 Bueno E VS1 56.9 65 4.05 4.07 2.31 ## 4 334 0.29 Premium I VS2 62.4 58 4.2 4.23 2.63 ## 5 335 0.31 Bueno J SI2 63.3 58 4.34 4.35 2.75 ## 6 336 0.24 Muy bueno J VVS2 62.8 57 3.94 3.96 2.48 2.4.0.2 La cantidad de fila Code nrow(diamantes) ## [1] 53940 2.4.0.3 La cantidad de columnas (variables) Code ncol(diamantes) ## [1] 10 2.4.0.4 La dimensiones de un archivo Code dim(diamantes) ## [1] 53940 10 2.4.0.5 El valor máximo de una variable Code max(diamantes$precio) ## [1] 18823 2.4.0.6 El valor mínimo de una variable Code min(diamantes$precio) ## [1] 326 2.4.0.7 Los valores discretos de una variable Code unique(diamantes$corte) ## [1] Ideal Premium Bueno Muy bueno Regular ## Levels: Regular &lt; Bueno &lt; Muy bueno &lt; Premium &lt; Ideal diamantes$corte diamantes$precio 2.5 Ejemplos de Gráficos 2.5.1 geom_bar() Code ggplot(data = diamantes) + geom_bar(mapping = aes(x = corte)) 2.5.2 Puntos con intervalo mínimo y máximo Code ggplot(data = diamantes) + stat_summary( mapping = aes(x = corte, y = profundidad), fun.min = min, fun.max = max, fun = median ) 2.5.3 geom_boxplot Code ggplot(data = millas, mapping = aes(x = clase, y = autopista)) + geom_boxplot() Code ggplot(data = millas, mapping = aes(x = clase, y = autopista)) + geom_boxplot() + coord_flip() 2.5.4 geom_bar y circular Code bar &lt;- ggplot(data = diamantes) + geom_bar( mapping = aes(x = corte, fill = corte), show.legend = FALSE, width = 1 ) + theme(aspect.ratio = 1) + labs(x = NULL, y = NULL) 2.5.4.1 geom_bar Code bar 2.5.4.2 geom_bar &amp; flip coordinates Code bar + coord_flip() 2.5.4.3 geom_bar &amp; circular distribution Code bar + coord_polar() 2.6 Leer datos de un archivo Code library(readr) Vuelos_SJU_2018_Ene &lt;- read_csv(&quot;Datos/Vuelos_SJU_2018_Ene.csv&quot;) ## Rows: 3831 Columns: 14 ## ── Column specification ──────────────────────────────────────────────────────── ## Delimiter: &quot;,&quot; ## chr (8): FL_DATE, OP_UNIQUE_CARRIER, ORIGIN, ORIGIN_CITY_NAME, ORIGIN_STATE_... ## dbl (6): DEP_TIME, DEP_DELAY, CRS_ARR_TIME, ARR_TIME, ARR_DELAY, CANCELLED ## ## ℹ Use `spec()` to retrieve the full column specification for this data. ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message. Code head(Vuelos_SJU_2018_Ene) ## # A tibble: 6 × 14 ## FL_DATE OP_UNIQUE_CARRIER ORIGIN ORIGIN_CITY_NAME ORIGIN_STATE_ABR DEST ## &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; ## 1 2/1/18 NK SJU San Juan, PR PR MCO ## 2 2/1/18 AA MIA Miami, FL FL SJU ## 3 2/1/18 AA SJU San Juan, PR PR DFW ## 4 2/1/18 AA SJU San Juan, PR PR MIA ## 5 2/1/18 AA SJU San Juan, PR PR ORD ## 6 2/1/18 AA MIA Miami, FL FL SJU ## # ℹ 8 more variables: DEST_CITY_NAME &lt;chr&gt;, DEST_STATE_ABR &lt;chr&gt;, ## # DEP_TIME &lt;dbl&gt;, DEP_DELAY &lt;dbl&gt;, CRS_ARR_TIME &lt;dbl&gt;, ARR_TIME &lt;dbl&gt;, ## # ARR_DELAY &lt;dbl&gt;, CANCELLED &lt;dbl&gt; "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
